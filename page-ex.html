<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/fonts/page.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto" />
    <title>Rémi COZOT</title>


</head>

<body>
    <header id="masthead" class="site-header" role="banner">
        <nav id="banner" class="banner">
            <div id="menu-items" class="menu-items">
                <div class="site-title-container">
                    <a href="index.html">Rémi COZOT</a>
                </div>
                <div class="list-items">
                    <ul id="menu-header-menu" class="primary-menu">
                        <li id="menu-item-170"
                            class="home menu-item menu-item-type-post_type menu-item-object-page menu-item-170">
                            <a href="index.html">Home</a>
                        </li>
                        <li><a href="#">Research</a></li>
                        <li><a href="#">Publications</a></li>
                        <li><a href="#">Teaching</a></li>
                        <li><a href="#">News</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="container">
            <div class="img-back">
                <img id="displayed-image" src="" alt="Displayed Image">
            </div>
            <div class="text">
                <div class="text-container">
                <h1>Image</h1>
                <p>The images are taken by Rémi Cozot in Creatives common.
                    
                </p>
                <p>Download the image :</p>
                    <div id="myModal" class="modal">
                        <div class="modal-content">
                            <span class="close" id="closeModal">&times;</span>
                            <h1>WARNING COPYRIGHT</h1>
                    <p>Downloading copyrighted content without proper authorization is illegal and a violation of
                        intellectual property rights.</p>
                        <button id="continueButton">Continue</button>
                        <button id="cancelButton">Cancel</button>
                    </div>
                </div>
                <div class="downloadButton-container">
                    <div class="all-download">
                        <button id="downloadButton">Download</button>
                        <img src="assets/images/jpg/download.png" alt="" id="downloadImg">
                    </div>
                </div>
            </div>
            </div>
        </div>

        <script>
            const downloadButton = document.getElementById('downloadButton');
            const continueButton = document.getElementById('continueButton');
            const cancelButton = document.getElementById('cancelButton');
            const modal = document.getElementById('myModal');
            const closeModal = document.getElementById('closeModal');
            const images = document.querySelectorAll('.img-back img');

            downloadButton.addEventListener('click', function () {
                modal.style.display = 'block';
            });

            continueButton.addEventListener('click', function () {
                modal.style.display = 'none';
                downloadImages();
            });

            cancelButton.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            closeModal.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            function downloadImages() {
                images.forEach((image) => {
                    const a = document.createElement('a');
                    a.href = image.src;
                    a.download = image.alt;
                    a.style.display = 'none';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                });
            }

            document.addEventListener('DOMContentLoaded', function () {
                const displayedImage = document.getElementById('displayed-image');
    
                // Récupérez les paramètres de l'URL
                const urlParams = new URLSearchParams(window.location.search);
                const imagePath = urlParams.get('image');
    
                // Mettez à jour l'image affichée avec le chemin de l'image passé en paramètre
                if (imagePath) {
                    displayedImage.src = imagePath;
                } else {
                    displayedImage.src = 'default.jpg'; // Image par défaut si aucun paramètre n'est passé
                }
            });
        
        </script>
    </main>
    <footer>
        <div class="footer-banner">
            <div class="footer-container">
                <img src="assets/images/lisic.png" alt="logo lisci" id="footer-img-1">
                <div class="footer-text">
                    <a href="">RÉMI COZOT</a>
                </div>



                <img src="assets/images/ULCO.png" alt="ulco logo" id="footer-img-2">
            <div class="footer-mail">remi.cozot@univ-littoral.fr</div>
        </div>
    </div>
    </footer>
</body>

</html>